import{e as a,y as s,a7 as l,o as e,c as t,w as i,u as n,i as c,a as r,m as d,b as u,B as o,C as f,F as g,D as k,I as _,J as m,t as p,K as v,E as y,q as C,d as I}from"./index.88361eb6.js";import{_ as h}from"./_plugin-vue_export-helper.cdc0426e.js";const x=h({__name:"ranking-list",setup(h){const x=n(),b=a((()=>x.state.rankingInfo.mainRankingList)),w=a((()=>x.state.rankingInfo.rankingList)),L=a=>{y({url:`/subPackages/playlist-detail/playlist-detail?pid=${a}`})};return s((()=>{l("log","at subPackages/ranking-list/ranking-list.vue:85",b.value,length),0===b.value.length&&x.dispatch("rankingInfo/getRankingList")})),(a,s)=>{const l=c,n=C,y=I,h=_;return e(),t(l,{class:"ranking-list"},{default:i((()=>[r(h,{"scroll-y":"true",class:"ranking-container"},{default:i((()=>[r(l,{class:"ranking-c"},{default:i((()=>[d(b).length>0?(e(),t(l,{key:0,class:"container"},{default:i((()=>[r(l,{class:"title"},{default:i((()=>[u("官方榜单")])),_:1}),(e(!0),o(g,null,f(d(b),(s=>(e(),t(l,{class:"item",key:s.id},{default:i((()=>[r(l,{class:"image",onClick:a=>L(s.id)},{default:i((()=>[r(n,{src:s.coverImgUrl,mode:"scaleToFill"},null,8,["src"])])),_:2},1032,["onClick"]),r(l,{class:"music-list"},{default:i((()=>[(e(!0),o(g,null,f(s.tracks.slice(0,5),((n,c)=>(e(),t(l,{class:m(["music-item",{active:a.$store.getters.findCurrentPlayIndex(s.tracks.slice(0,5),!1,!0)===c}]),onClick:a=>((a,s)=>{v({musicList:a,index:s})})(s.tracks.slice(0,5),c)},{default:i((()=>[r(y,{class:m([{top:c<3},"index"])},{default:i((()=>[u(p(c+1),1)])),_:2},1032,["class"]),r(l,{class:"info"},{default:i((()=>[r(y,{class:"name overflow"},{default:i((()=>[u(" . "+p(n.name),1)])),_:2},1024),r(y,{class:m(["singer","overflow",{active:a.$store.getters.findCurrentPlayIndex(s.tracks.slice(0,5),!1,!0)===c}])},{default:i((()=>[u(p(n._singer),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["class","onClick"])))),256)),r(l,{class:"view-more",onClick:a=>L(s.id)},{default:i((()=>[r(y,null,{default:i((()=>[u("查看更多")])),_:1}),r(y,{class:"iconfont icon-right"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):k("",!0),d(w).length>0&&d(b).length>0?(e(),t(l,{key:1,class:"container"},{default:i((()=>[r(l,{class:"title"},{default:i((()=>[u(" 全球榜单 ")])),_:1}),r(l,{class:"playlist"},{default:i((()=>[(e(!0),o(g,null,f(d(w),(a=>(e(),t(l,{class:"playlist-item",key:a.id,onClick:s=>L(a.id)},{default:i((()=>[r(l,{class:"image"},{default:i((()=>[r(n,{src:a.coverImgUrl,mode:"scaleToFill"},null,8,["src"])])),_:2},1024),r(l,{class:"name"},{default:i((()=>[u(p(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):k("",!0)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-997de30d"]]);export{x as default};
