import{_ as a}from"./playlist-temp.7d23835e.js";import{f as e,x as t,g as l,y as s,o as i,c as n,w as u,i as o,a as c,B as r,C as v,F as p,D as m,m as d,u as f,A as y,k as _,l as h,I as g}from"./index.88361eb6.js";import{_ as I}from"./select-and-content.d86a4c31.js";import{_ as x}from"./_plugin-vue_export-helper.cdc0426e.js";const w=x({__name:"recommend-playlist",setup(x){const w=f(),j=e(0),k=t([]),M=a=>{j.value=a},C=e(!1),L=e(!1),$=e([]),b=async a=>{let e=$.value[j.value];const t=a||k.value[j.value].name;if(e||(e=$.value[j.value]={list:[],isMore:!0}),e.list&&0===e.list.length||L.value){const a=e&&e.list&&e.list.length||0,{more:l,playlists:s=[]}=await w.dispatch("getInfo",{path:`/top/playlist?limit=20&cat=${t}&offset=${a}`});y({list:s}),$.value[j.value].list.push(...s),$.value[j.value].isMore=l}L.value=!1},A=(a=0)=>{const e=k.value;if(0===e.length)return;const t=e[a].name;b(t)},B=()=>{C&&(L.value=!0,b())};return l(j,(a=>{const e=$.value[j.value];e&&(C.value=e.isMore),L.value=!1,A(a)})),s((async()=>{await(async()=>{const{tags:a=[]}=await w.dispatch("getInfo",{path:"/playlist/hot"});k.value=a})(),A(0)})),(e,t)=>{const l=_(h("playlist-temp"),a),s=o,f=g,y=_(h("select-and-content"),I);return i(),n(s,{class:"playlist-tags"},{default:u((()=>[c(y,{titleIndex:j.value,titleList:d(k),onChangeTitle:M,titleName:"name"},{default:u((()=>[$.value[j.value]&&$.value[j.value].list?(i(),n(f,{key:0,"scroll-y":"true",class:"item-container",onScrolltolower:B},{default:u((()=>[c(s,{class:"children-container"},{default:u((()=>[(i(!0),r(p,null,v($.value[j.value].list,(a=>(i(),n(s,{class:"playlist-item",key:a.id},{default:u((()=>[c(l,{musicInfo:a},null,8,["musicInfo"])])),_:2},1024)))),128))])),_:1})])),_:1})):m("",!0)])),_:1},8,["titleIndex","titleList"])])),_:1})}}},[["__scopeId","data-v-7388efc4"]]);export{w as default};
