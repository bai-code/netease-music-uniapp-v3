import{P as e,Q as t,R as l,o as A,c as a,w as i,b as s,t as o,T as r,n,d as c,U as u,k as d,l as p,J as h,D as m,a as f,i as y,V as g,W as b,r as S,B as x,F as v,q as w,I as k,f as _,g as I,L as B,u as N,e as T,C as z,m as O,K as H,E as R}from"./index.88361eb6.js";import{_ as $}from"./u-icon.0263866c.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as L}from"./u-line.c1c06170.js";const D=C({name:"u-link",mixins:[t,l,{props:{color:{type:String,default:e.link.color},fontSize:{type:[String,Number],default:e.link.fontSize},underLine:{type:Boolean,default:e.link.underLine},href:{type:String,default:e.link.href},mpTips:{type:String,default:e.link.mpTips},lineColor:{type:String,default:e.link.lineColor},text:{type:String,default:e.link.text}}}],computed:{linkStyle(){return{color:this.color,fontSize:uni.$u.addUnit(this.fontSize),lineHeight:uni.$u.addUnit(uni.$u.getPx(this.fontSize)+2),textDecoration:this.underLine?"underline":"none"}}},methods:{openLink(){window.open(this.href),this.$emit("click")}}},[["render",function(e,t,l,u,d,p){const h=c;return A(),a(h,{class:"u-link",onClick:r(p.openLink,["stop"]),style:n([p.linkStyle,e.$u.addStyle(e.customStyle)])},{default:i((()=>[s(o(e.text),1)])),_:1},8,["onClick","style"])}],["__scopeId","data-v-f5c4259e"]]),M={computed:{value(){const{text:e,mode:t,format:l,href:A}=this;return"price"===t?(/^\d+(\.\d+)?$/.test(e)||uni.$u.error("金额模式下，text参数需要为金额格式"),uni.$u.test.func(l)?l(e):uni.$u.priceFormat(e,2)):"date"===t?(!uni.$u.test.date(e)&&uni.$u.error("日期模式下，text参数需要为日期或时间戳格式"),uni.$u.test.func(l)?l(e):l?uni.$u.timeFormat(e,l):uni.$u.timeFormat(e,"yyyy-mm-dd")):"phone"===t?uni.$u.test.func(l)?l(e):"encrypt"===l?`${e.substr(0,3)}****${e.substr(7)}`:e:"name"===t?("string"!=typeof e&&uni.$u.error("姓名模式下，text参数需要为字符串格式"),uni.$u.test.func(l)?l(e):"encrypt"===l?this.formatName(e):e):"link"===t?(!uni.$u.test.url(A)&&uni.$u.error("超链接模式下，href参数需要为URL格式"),e):e}},methods:{formatName(e){let t="";if(2===e.length)t=e.substr(0,1)+"*";else if(e.length>2){let l="";for(let t=0,A=e.length-2;t<A;t++)l+="*";t=e.substr(0,1)+l+e.substr(-1,1)}else t=e;return t}}},E={props:{type:{type:String,default:e.text.type},show:{type:Boolean,default:e.text.show},text:{type:[String,Number],default:e.text.text},prefixIcon:{type:String,default:e.text.prefixIcon},suffixIcon:{type:String,default:e.text.suffixIcon},mode:{type:String,default:e.text.mode},href:{type:String,default:e.text.href},format:{type:[String,Function],default:e.text.format},call:{type:Boolean,default:e.text.call},openType:{type:String,default:e.text.openType},bold:{type:Boolean,default:e.text.bold},block:{type:Boolean,default:e.text.block},lines:{type:[String,Number],default:e.text.lines},color:{type:String,default:e.text.color},size:{type:[String,Number],default:e.text.size},iconStyle:{type:[Object,String],default:e.text.iconStyle},decoration:{tepe:String,default:e.text.decoration},margin:{type:[Object,String,Number],default:e.text.margin},lineHeight:{type:[String,Number],default:e.text.lineHeight},align:{type:String,default:e.text.align},wordWrap:{type:String,default:e.text.wordWrap}}};const G=C({name:"u--text",mixins:[t,l,E],components:{uvText:C({name:"u--text",mixins:[t,l,M,E],emits:["click"],computed:{valueStyle(){const e={textDecoration:this.decoration,fontWeight:this.bold?"bold":"normal",wordWrap:this.wordWrap,fontSize:uni.$u.addUnit(this.size)};return!this.type&&(e.color=this.color),this.isNvue&&this.lines&&(e.lines=this.lines),this.lineHeight&&(e.lineHeight=uni.$u.addUnit(this.lineHeight)),!this.isNvue&&this.block&&(e.display="block"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},isNvue:()=>!1,isMp:()=>!1},data:()=>({}),methods:{clickHandler(){this.call&&"phone"===this.mode&&u({phoneNumber:this.text}),this.$emit("click")}}},[["render",function(e,t,l,r,u,b){const S=c,x=d(p("u-icon"),$),v=y,w=d(p("u-link"),D),k=g;return e.show?(A(),a(v,{key:0,class:h(["u-text",[]]),style:n({margin:e.margin,justifyContent:"left"===e.align?"flex-start":"center"===e.align?"center":"flex-end"}),onClick:b.clickHandler},{default:i((()=>["price"===e.mode?(A(),a(S,{key:0,class:h(["u-text__price",e.type&&`u-text__value--${e.type}`]),style:n([b.valueStyle])},{default:i((()=>[s("￥")])),_:1},8,["class","style"])):m("",!0),e.prefixIcon?(A(),a(v,{key:1,class:"u-text__prefix-icon"},{default:i((()=>[f(x,{name:e.prefixIcon,customStyle:e.$u.addStyle(e.iconStyle)},null,8,["name","customStyle"])])),_:1})):m("",!0),"link"===e.mode?(A(),a(w,{key:2,text:e.value,href:e.href,underLine:""},null,8,["text","href"])):e.openType&&b.isMp?(A(),a(k,{key:3,class:"u-reset-button u-text__value",style:n([b.valueStyle]),"data-index":e.index,openType:e.openType,onGetuserinfo:e.onGetUserInfo,onContact:e.onContact,onGetphonenumber:e.onGetPhoneNumber,onError:e.onError,onLaunchapp:e.onLaunchApp,onOpensetting:e.onOpenSetting,lang:e.lang,"session-from":e.sessionFrom,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,"app-parameter":e.appParameter},{default:i((()=>[s(o(e.value),1)])),_:1},8,["style","data-index","openType","onGetuserinfo","onContact","onGetphonenumber","onError","onLaunchapp","onOpensetting","lang","session-from","send-message-title","send-message-path","send-message-img","show-message-card","app-parameter"])):(A(),a(S,{key:4,class:h(["u-text__value",[e.type&&`u-text__value--${e.type}`,e.lines&&`u-line-${e.lines}`]]),style:n([b.valueStyle])},{default:i((()=>[s(o(e.value),1)])),_:1},8,["style","class"])),e.suffixIcon?(A(),a(v,{key:5,class:"u-text__suffix-icon"},{default:i((()=>[f(x,{name:e.suffixIcon,customStyle:e.$u.addStyle(e.iconStyle)},null,8,["name","customStyle"])])),_:1})):m("",!0)])),_:1},8,["style","onClick"])):m("",!0)}],["__scopeId","data-v-c4e7d767"]])}},[["render",function(e,t,l,i,s,o){const r=b("uvText");return A(),a(r,{type:e.type,show:e.show,text:e.text,prefixIcon:e.prefixIcon,suffixIcon:e.suffixIcon,mode:e.mode,href:e.href,format:e.format,call:e.call,openType:e.openType,bold:e.bold,block:e.block,lines:e.lines,color:e.color,decoration:e.decoration,size:e.size,iconStyle:e.iconStyle,margin:e.margin,lineHeight:e.lineHeight,align:e.align,wordWrap:e.wordWrap,customStyle:e.customStyle},null,8,["type","show","text","prefixIcon","suffixIcon","mode","href","format","call","openType","bold","block","lines","color","decoration","size","iconStyle","margin","lineHeight","align","wordWrap","customStyle"])}]]),U={props:{src:{type:String,default:e.avatar.src},shape:{type:String,default:e.avatar.shape},size:{type:[String,Number],default:e.avatar.size},mode:{type:String,default:e.avatar.mode},text:{type:String,default:e.avatar.text},bgColor:{type:String,default:e.avatar.bgColor},color:{type:String,default:e.avatar.color},fontSize:{type:[String,Number],default:e.avatar.fontSize},icon:{type:String,default:e.avatar.icon},mpAvatar:{type:Boolean,default:e.avatar.mpAvatar},randomBgColor:{type:Boolean,default:e.avatar.randomBgColor},defaultUrl:{type:String,default:e.avatar.defaultUrl},colorIndex:{type:[String,Number],validator:e=>uni.$u.test.range(e,[0,19])||""===e,default:e.avatar.colorIndex},name:{type:String,default:e.avatar.name}}};const F=C({name:"u-avatar",mixins:[t,l,U],data(){return{colors:["#ffb34b","#f2bba9","#f7a196","#f18080","#88a867","#bfbf39","#89c152","#94d554","#f19ec2","#afaae4","#e1b0df","#c38cc1","#72dcdc","#9acdcb","#77b1cc","#448aca","#86cefa","#98d1ee","#73d1f1","#80a7dc"],avatarUrl:this.src,allowMp:!1}},watch:{src:{immediate:!0,handler(e){this.avatarUrl=e,e||this.errorHandler()}}},computed:{imageStyle:()=>({})},created(){this.init()},methods:{init(){},isImg(){return-1!==this.src.indexOf("/")},errorHandler(){this.avatarUrl=this.defaultUrl||"data:image/jpg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QMraHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjREMEQwRkY0RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjREMEQwRkY1RjgwNDExRUE5OTY2RDgxODY3NkJFODMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEQwRDBGRjJGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEQwRDBGRjNGODA0MTFFQTk5NjZEODE4Njc2QkU4MzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/7gAOQWRvYmUAZMAAAAAB/9sAhAAGBAQEBQQGBQUGCQYFBgkLCAYG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"},clickHandler(){this.$emit("click",this.name)}}},[["render",function(e,t,l,s,o,r){const c=d(p("u-icon"),$),u=d(p("u--text"),G),m=w,f=y;return A(),a(f,{class:h(["u-avatar",[`u-avatar--${e.shape}`]]),style:n([{backgroundColor:e.text||e.icon?e.randomBgColor?o.colors[""!==e.colorIndex?e.colorIndex:e.$u.random(0,19)]:e.bgColor:"transparent",width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size)},e.$u.addStyle(e.customStyle)]),onClick:r.clickHandler},{default:i((()=>[S(e.$slots,"default",{},(()=>[e.mpAvatar&&o.allowMp?(A(),x(v,{key:0},[],64)):e.icon?(A(),a(c,{key:1,name:e.icon,size:e.fontSize,color:e.color},null,8,["name","size","color"])):e.text?(A(),a(u,{key:2,text:e.text,size:e.fontSize,color:e.color,align:"center",customStyle:"justify-content: center"},null,8,["text","size","color"])):(A(),a(m,{key:3,class:h(["u-avatar__image",[`u-avatar__image--${e.shape}`]]),src:o.avatarUrl||e.defaultUrl,mode:e.mode,onError:r.errorHandler,style:n([{width:e.$u.addUnit(e.size),height:e.$u.addUnit(e.size)}])},null,8,["class","src","mode","onError","style"]))]),!0)])),_:3},8,["class","style","onClick"])}],["__scopeId","data-v-eefb9ae3"]]);const Q=C({name:"u-cell",data:()=>({}),mixins:[t,l,{props:{title:{type:[String,Number],default:e.cell.title},label:{type:[String,Number],default:e.cell.label},value:{type:[String,Number],default:e.cell.value},icon:{type:String,default:e.cell.icon},disabled:{type:Boolean,default:e.cell.disabled},border:{type:Boolean,default:e.cell.border},center:{type:Boolean,default:e.cell.center},url:{type:String,default:e.cell.url},linkType:{type:String,default:e.cell.linkType},clickable:{type:Boolean,default:e.cell.clickable},isLink:{type:Boolean,default:e.cell.isLink},required:{type:Boolean,default:e.cell.required},rightIcon:{type:String,default:e.cell.rightIcon},arrowDirection:{type:String,default:e.cell.arrowDirection},iconStyle:{type:[Object,String],default:()=>uni.$u.props.cell.iconStyle},rightIconStyle:{type:[Object,String],default:()=>uni.$u.props.cell.rightIconStyle},titleStyle:{type:[Object,String],default:()=>uni.$u.props.cell.titleStyle},size:{type:String,default:e.cell.size},stop:{type:Boolean,default:e.cell.stop},name:{type:[Number,String],default:e.cell.name}}}],computed:{titleTextStyle(){return uni.$u.addStyle(this.titleStyle)}},emits:["click"],methods:{clickHandler(e){this.disabled||(this.$emit("click",{name:this.name}),this.openPage(),this.stop&&this.preventEvent(e))}}},[["render",function(e,t,l,r,u,g){const b=d(p("u-icon"),$),x=y,v=c,w=d(p("u-line"),L);return A(),a(x,{class:h(["u-cell",[e.customClass]]),style:n([e.$u.addStyle(e.customStyle)]),"hover-class":e.disabled||!e.clickable&&!e.isLink?"":"u-cell--clickable","hover-stay-time":250,onClick:g.clickHandler},{default:i((()=>[f(x,{class:h(["u-cell__body",[e.center&&"u-cell--center","large"===e.size&&"u-cell__body--large"]])},{default:i((()=>[f(x,{class:"u-cell__body__content"},{default:i((()=>[f(x,{class:"u-cell__left-icon-wrap"},{default:i((()=>[S(e.$slots,"icon",{},(()=>[e.icon?(A(),a(b,{key:0,name:e.icon,"custom-style":e.iconStyle,size:"large"===e.size?22:18},null,8,["name","custom-style","size"])):m("",!0)]),!0)])),_:3}),f(x,{class:"u-cell__title"},{default:i((()=>[S(e.$slots,"title",{},(()=>[e.title?(A(),a(v,{key:0,class:h(["u-cell__title-text",[e.disabled&&"u-cell--disabled","large"===e.size&&"u-cell__title-text--large"]]),style:n([g.titleTextStyle])},{default:i((()=>[s(o(e.title),1)])),_:1},8,["style","class"])):m("",!0)]),!0),S(e.$slots,"label",{},(()=>[e.label?(A(),a(v,{key:0,class:h(["u-cell__label",[e.disabled&&"u-cell--disabled","large"===e.size&&"u-cell__label--large"]])},{default:i((()=>[s(o(e.label),1)])),_:1},8,["class"])):m("",!0)]),!0)])),_:3})])),_:3}),S(e.$slots,"value",{},(()=>[e.$u.test.empty(e.value)?m("",!0):(A(),a(v,{key:0,class:h(["u-cell__value",[e.disabled&&"u-cell--disabled","large"===e.size&&"u-cell__value--large"]])},{default:i((()=>[s(o(e.value),1)])),_:1},8,["class"]))]),!0),f(x,{class:h(["u-cell__right-icon-wrap",[`u-cell__right-icon-wrap--${e.arrowDirection}`]])},{default:i((()=>[S(e.$slots,"right-icon",{},(()=>[e.isLink?(A(),a(b,{key:0,name:e.rightIcon,"custom-style":e.rightIconStyle,color:e.disabled?"#c8c9cc":"info",size:"large"===e.size?18:16},null,8,["name","custom-style","color","size"])):m("",!0)]),!0)])),_:3},8,["class"])])),_:3},8,["class"]),e.border?(A(),a(w,{key:0})):m("",!0)])),_:3},8,["class","style","hover-class","onClick"])}],["__scopeId","data-v-d9d2beeb"]]);const Y=C({name:"u-list-item",mixins:[t,l,{props:{anchor:{type:[String,Number],default:e.listItem.anchor}}}],data:()=>({rect:{},index:0,show:!0,sys:uni.$u.sys()}),computed:{},inject:["uList"],watch:{"uList.innerScrollTop"(e){const t=this.uList.preLoadScreen,l=this.sys.windowHeight;e<=l*t?this.parent.updateOffsetFromChild(0):this.rect.top<=e-l*t&&this.parent.updateOffsetFromChild(this.rect.top)}},created(){this.parent={}},mounted(){this.init()},methods:{init(){this.updateParentData(),this.index=this.parent.children.indexOf(this),this.resize()},updateParentData(){this.getParentData("u-list")},resize(){this.queryRect(`u-list-item-${this.anchor}`).then((e=>{const t=this.parent.children[this.index-1];this.rect=e;const l=this.uList.preLoadScreen,A=this.sys.windowHeight;t&&(this.rect.top=t.rect.top+t.rect.height),e.top>=this.uList.innerScrollTop+(1+l)*A&&(this.show=!1)}))},queryRect(e){return new Promise((t=>{this.$uGetRect(`.${e}`).then((e=>{t(e)}))}))}}},[["render",function(e,t,l,s,o,r){const n=y;return A(),a(n,{class:h(["u-list-item",[`u-list-item-${e.anchor}`]]),ref:`u-list-item-${e.anchor}`,anchor:`u-list-item-${e.anchor}`},{default:i((()=>[S(e.$slots,"default",{},void 0,!0)])),_:3},8,["anchor","class"])}],["__scopeId","data-v-6395e17d"]]);const j=C({name:"u-list",mixins:[t,l,{props:{showScrollbar:{type:Boolean,default:e.list.showScrollbar},lowerThreshold:{type:[String,Number],default:e.list.lowerThreshold},upperThreshold:{type:[String,Number],default:e.list.upperThreshold},scrollTop:{type:[String,Number],default:e.list.scrollTop},offsetAccuracy:{type:[String,Number],default:e.list.offsetAccuracy},enableFlex:{type:Boolean,default:e.list.enableFlex},pagingEnabled:{type:Boolean,default:e.list.pagingEnabled},scrollable:{type:Boolean,default:e.list.scrollable},scrollIntoView:{type:String,default:e.list.scrollIntoView},scrollWithAnimation:{type:Boolean,default:e.list.scrollWithAnimation},enableBackToTop:{type:Boolean,default:e.list.enableBackToTop},height:{type:[String,Number],default:e.list.height},width:{type:[String,Number],default:e.list.width},preLoadScreen:{type:[String,Number],default:e.list.preLoadScreen}}}],watch:{scrollIntoView(e){this.scrollIntoViewById(e)}},data:()=>({innerScrollTop:0,offset:0,sys:uni.$u.sys()}),computed:{listStyle(){const e={},t=uni.$u.addUnit;return 0!=this.width&&(e.width=t(this.width)),0!=this.height&&(e.height=t(this.height)),e.height||(e.height=t(this.sys.windowHeight,"px")),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},provide(){return{uList:this}},created(){this.refs=[],this.children=[],this.anchors=[]},mounted(){},methods:{updateOffsetFromChild(e){this.offset=e},onScroll(e){let t=0;t=e.detail.scrollTop,this.innerScrollTop=t,this.$emit("scroll",Math.abs(t))},scrollIntoViewById(e){},scrolltolower(e){uni.$u.sleep(30).then((()=>{this.$emit("scrolltolower")}))},scrolltoupper(e){uni.$u.sleep(30).then((()=>{this.$emit("scrolltoupper"),this.offset=0}))}}},[["render",function(e,t,l,s,o,r){const c=y,u=k;return A(),a(u,{class:"u-list","scroll-into-view":e.scrollIntoView,style:n([r.listStyle]),"scroll-y":"","scroll-top":Number(e.scrollTop),"lower-threshold":Number(e.lowerThreshold),"upper-threshold":Number(e.upperThreshold),"show-scrollbar":e.showScrollbar,"enable-back-to-top":e.enableBackToTop,"scroll-with-animation":e.scrollWithAnimation,onScroll:r.onScroll,onScrolltolower:r.scrolltolower,onScrolltoupper:r.scrolltoupper},{default:i((()=>[f(c,null,{default:i((()=>[S(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["scroll-into-view","style","scroll-top","lower-threshold","upper-threshold","show-scrollbar","enable-back-to-top","scroll-with-animation","onScroll","onScrolltolower","onScrolltoupper"])}],["__scopeId","data-v-badcd645"]]),W=C({__name:"music-list-table",props:{musicList:{type:Array,default:()=>[]},showImage:{type:Boolean,default:!0},showOther:{type:Boolean,default:!0},isExact:{type:Boolean,default:!1}},emits:["scrollToBottom"],setup(e,{expose:t,emit:l}){const n=e,u=_([]);I((()=>n.musicList),(e=>{0!==e.length&&(u.value=B({list:e}))}),{immediate:!0,deep:!0});const g=N(),b=T((()=>{const{isExact:e,musicList:t}=n;return g.getters.findCurrentPlayIndex(t,e)})),S=e=>{uni.$u.throttle((()=>{H({musicList:u.value,index:e})}),500)},w=()=>{uni.$u.throttle((()=>{l("scrollToBottom")}),1e3)};return t({playMusic:S}),(t,l)=>{const n=d(p("u-avatar"),F),g=d(p("u-cell"),Q),k=c,_=y,I=d(p("u-list-item"),Y),B=d(p("u-list"),j);return A(),a(_,{class:"music-list-table"},{default:i((()=>[f(B,{class:"music-list-t",onScrolltolower:w,lowerThreshold:"150"},{default:i((()=>[(A(!0),x(v,null,z(u.value,((t,l)=>(A(),a(I,{class:h(["list-item",{currentActive:l===O(b)}]),key:t.id,onClick:e=>S(l)},{default:i((()=>[e.showImage?(A(),a(g,{key:0},{icon:i((()=>[f(n,{shape:"square",size:"45",src:t.picUrl||t.al&&t.al.picUrl||t.album&&(t.album.blurPicUrl||t.album.artist&&t.album.artist.img1v1Url)},null,8,["src"])])),_:2},1024)):m("",!0),f(_,{class:h(["music-info",{bespread:!e.showOther,fillUp:!e.showImage}])},{default:i((()=>[f(_,{class:"name overflow"},{default:i((()=>[f(k,{class:"name music-name"},{default:i((()=>[s(o(t.name),1)])),_:2},1024),e.showOther?m("",!0):(A(),a(k,{key:0,class:"singer overflow"},{default:i((()=>[s("   -   "+o(t._singer||t.artist),1)])),_:2},1024))])),_:2},1024),e.showOther?(A(),a(_,{key:0,class:"singer"},{default:i((()=>[1===t.originCoverType&&e.showOther?(A(),a(_,{key:0,class:"icon icons"},{default:i((()=>[s(" 原唱 ")])),_:1})):m("",!0),t.privilege&&("hires"===t.privilege.playMaxBrLevel||999e3===t.privilege.maxbr)&&e.showOther?(A(),a(_,{key:1,class:"hi-res icons"},{default:i((()=>[s(" Hi-Res ")])),_:1})):t.sq&&e.showOther?(A(),a(_,{key:2,class:"hi-res icons sq"},{default:i((()=>[s(" SQ ")])),_:1})):m("",!0),e.showOther?(A(),a(k,{key:3,class:h(["singer",{overflow:!(t.al&&t.al.name)}])},{default:i((()=>[s(o(t._singer||t.artists&&t.artists[0]&&t.artists[0].name),1)])),_:2},1032,["class"])):m("",!0),t.al&&t.al.name&&e.showOther?(A(),a(k,{key:4,class:"al overflow"},{default:i((()=>[s("-"+o(t.al&&t.al.name),1)])),_:2},1024)):t.album&&t.album.name&&e.showOther?(A(),a(k,{key:5,class:"al overflow"},{default:i((()=>[s("-"+o(t.album&&t.album.name),1)])),_:2},1024)):m("",!0)])),_:2},1024)):m("",!0),t.alia&&t.alia.length>0&&e.showOther?(A(),a(_,{key:1,class:"alias sColor overflow"},{default:i((()=>[s(o(t.alia[0]),1)])),_:2},1024)):m("",!0)])),_:2},1032,["class"]),(t.mv||t.mvid)&&e.showOther?(A(),a(_,{key:1,class:"video-icon icons",onClick:r((e=>(e=>{const{mv:t,mvid:l}=e;R({url:`/subPackages/video-detail/video-detail?vid=${t||l}`})})(t)),["stop"])},{default:i((()=>[f(_,{class:"iconfont icon-play"})])),_:2},1032,["onClick"])):m("",!0)])),_:2},1032,["onClick","class"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-c49fb4d3"]]);export{W as _};
