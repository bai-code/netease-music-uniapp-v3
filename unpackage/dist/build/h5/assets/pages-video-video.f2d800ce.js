import{f as e,X as a,g as l,y as t,o as u,c as s,w as o,L as v,i,a as d,b as r,B as c,C as n,m as p,F as f,D as m,u as y,d as _,k,l as g,J as b,t as h}from"./index.88361eb6.js";import{_ as C}from"./video-temp.bdb93370.js";import{_ as j}from"./scrollView-backTop.c40c26d0.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";import"./u-loading-icon.f23f30cd.js";const x=w({__name:"video",setup(w){const x=y(),I=e(0),T=e(0),$=e(2),L=a([{id:0,area:"全部"},{id:1,area:"内地"},{id:2,area:"港台"},{id:3,area:"欧美"},{id:4,area:"日本"},{id:5,area:"韩国"}]),B=a([{id:0,type:"全部"},{id:1,type:"官方"},{id:2,type:"原生"},{id:3,type:"现场版"},{id:4,type:"网易出品"}]),D=a([{id:0,order:"上升最快"},{id:1,order:"最热"},{id:2,order:"最新"}]);e(0);const N=e([]),S=e(!1),V=e(!1),F=async()=>{const{area:e,type:a,order:l}=((e,a,l)=>{const t=e||I.value,u=a||T.value,s=l||$.value,{area:o}=L[t],{type:v}=B[u],{order:i}=D[s];return{area:o,type:v,order:i}})(),t=N.value[I.value];t&&t[T.value],"object"!=typeof(t&&t[T.value])?(N.value[I.value]=[],N.value[I.value][T.value]=[],N.value[I.value][T.value][$.value]=[]):t[T.value][$.value]||(N.value[I.value][T.value][$.value]=[]);const u=N.value[I.value][T.value][$.value].length;if(u>0&&!S.value)return;const{data:s=[]}=await x.dispatch("getInfo",{path:`/mv/all?area=${e}&type=${a}&order=${l}&offset=${u}&limit=30`}),o=v({list:s,singerName:"artists",playCountName:"duration"});o.length>0&&N.value[I.value][T.value][$.value].push(...o),V.value=!1,S.value=!1};l([I,T,$],(e=>{V.value=!0,F()}));const J=()=>{S.value=!0,V.value=!0,F()};return t((()=>{V.value=!0,F()})),(e,a)=>{const l=_,t=i,v=k(g("video-temp"),C),y=k(g("scrollView-backTop"),j);return u(),s(t,{class:"video-container"},{default:o((()=>[d(t,{class:"select-content"},{default:o((()=>[d(t,{class:"area select-item"},{default:o((()=>[d(l,null,{default:o((()=>[r("地区:")])),_:1}),(u(!0),c(f,null,n(p(L),((e,a)=>(u(),s(l,{key:e.id,class:b(["tag-item",{active:I.value===a}]),onClick:e=>I.value=a},{default:o((()=>[r(h(e.area),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),d(t,{class:"type select-item"},{default:o((()=>[d(l,null,{default:o((()=>[r("类型:")])),_:1}),(u(!0),c(f,null,n(p(B),((e,a)=>(u(),s(l,{key:e.id,class:b(["tag-item",{active:T.value===a}]),onClick:e=>T.value=a},{default:o((()=>[r(h(e.type),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),d(t,{class:"order select-item"},{default:o((()=>[d(l,null,{default:o((()=>[r("排序:")])),_:1}),(u(!0),c(f,null,n(p(D),((e,a)=>(u(),s(l,{key:e.id,class:b(["tag-item",{active:$.value===a}]),onClick:e=>$.value=a},{default:o((()=>[r(h(e.order),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),N.value[I.value]&&N.value[I.value][T.value]?(u(),s(t,{key:0,class:"video-content"},{default:o((()=>[d(y,{isLoading:V.value,backTopDistance:{right:"40rpx",bottom:"160rpx"},onScrollToBottom:J},{default:o((()=>[(u(!0),c(f,null,n(N.value[I.value][T.value][$.value],(e=>(u(),s(v,{key:e.id,videoInfo:e,showSinger:!0},null,8,["videoInfo"])))),128)),V.value||0!==N.value[I.value][T.value][$.value].length?m("",!0):(u(),s(t,{key:0,class:"empty"},{default:o((()=>[r(" empty ")])),_:1}))])),_:1},8,["isLoading"])])),_:1})):m("",!0)])),_:1})}}},[["__scopeId","data-v-17b08c50"]]);export{x as default};
